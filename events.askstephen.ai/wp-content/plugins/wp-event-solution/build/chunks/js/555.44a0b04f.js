"use strict";(globalThis.webpackChunkwp_event_solution=globalThis.webpackChunkwp_event_solution||[]).push([[555],{8194(e,t,n){n.d(t,{A:()=>A});var a=n(51609),i=n(29491),r=n(47143),l=n(86087),o=n(52619),s=n(27723),c=n(16370),d=n(60742),m=n(47152),u=n(500),_=n(13444),p=n(10012),g=n(91807),h=n(64282),v=n(98503);const f=(0,r.withSelect)(e=>{const t=e("eventin/global");return{speakerCategories:t.getSpeakerCategories(),isLoading:t.isResolving("getSpeakerCategories")}}),E=(0,r.withDispatch)(e=>{const t=e("eventin/global");return{refreshSpeakerList:()=>t.invalidateResolution("getSpeakerList")}}),A=(0,i.compose)(f,E)(e=>{const{modalOpen:t,setModalOpen:n,speakerCategories:i,refreshSpeakerList:r,formType:f}=e||{},[E]=d.A.useForm(),[A,x]=(0,l.useState)(!1),y="organizer"===f,k=y?"organizer":"speaker";return(0,a.createElement)(u.A,{title:y?(0,s.__)("Add New Organizer","eventin"):(0,s.__)("Add New Speaker","eventin"),open:t,onCancel:()=>n(!1),cancelText:(0,s.__)("Cancel","eventin"),okText:y?(0,s.__)("Add Organizer","eventin"):(0,s.__)("Add Speaker","eventin"),onOk:async()=>{await E.validateFields();try{x(!0);const t={...E.getFieldsValue(!0),category:y?["organizer"]:["speaker"]},a=await h.A.speakers.createSpeaker(t);if(a?.id){if(r(),e.form){const t=e.form.getFieldValue(k,{preserve:!0})||[];e.form.setFieldsValue({[k]:[a.id,...t]})}n(!1),(0,o.doAction)("eventin_notification",{type:"success",message:(0,s.__)("Successfully Created "+(y?"Organizer":"Speaker"),"eventin")})}}catch(e){console.log("error message:",e),(0,o.doAction)("eventin_notification",{type:"error",message:e?.message})}finally{x(!1)}},confirmLoading:A,destroyOnHidden:!0,styles:{body:{height:"70vh",overflowY:"auto",overflowX:"hidden",scrollbarWidth:"thin"}}},(0,a.createElement)(d.A,{layout:"vertical",form:E,scrollToFirstError:!0,preserve:!1},(0,a.createElement)(m.A,{gutter:[10,0],style:{paddingRight:"4px"}},(0,a.createElement)(c.A,{xs:24},(0,a.createElement)(d.A.Item,{name:"name",label:y?(0,s.__)("Organizer Name","eventin"):(0,s.__)("Speaker Name","eventin"),rules:[{required:!0,message:y?(0,s.__)("Organizer name is required!","eventin"):(0,s.__)("Speaker name is required!","eventin")}]},(0,a.createElement)(p.ks,{placeholder:(0,s.__)(y?(0,s.__)("Enter organizer name","eventin"):(0,s.__)("Enter speaker name","eventin"),"eventin"),size:"middle"}))),(0,a.createElement)(c.A,{md:12,xs:24},(0,a.createElement)(d.A.Item,{label:(0,s.__)("Email Address","eventin"),name:"email",rules:[{required:!0,type:"email",message:(0,s.__)("Please enter valid email address!","eventin")}]},(0,a.createElement)(p.ks,{placeholder:(0,s.__)(y?(0,s.__)("Enter organizer email address","eventin"):(0,s.__)("Enter speaker email address","eventin"),"eventin")}))),(0,a.createElement)(c.A,{md:12,xs:24},(0,a.createElement)(d.A.Item,{name:"speaker_group",label:(0,s.__)(y?(0,s.__)("Organizer Category","eventin"):(0,s.__)("Speaker Category","eventin"),"eventin")},(0,a.createElement)(_.A,{options:i,placeholder:(0,s.__)(y?(0,s.__)("Select organizer category","eventin"):(0,s.__)("Select speaker category","eventin"),"eventin"),fieldNames:{label:"name",value:"id"}},(0,a.createElement)(v.A,null)))),(0,a.createElement)(c.A,{md:12,xs:24},(0,a.createElement)(d.A.Item,{name:"designation",label:(0,s.__)("Job Title","eventin")},(0,a.createElement)(p.ks,{placeholder:(0,s.__)(y?(0,s.__)("Enter organizer designation","eventin"):(0,s.__)("Enter speaker designation","eventin"),"eventin")}))),(0,a.createElement)(c.A,{md:12,xs:24},(0,a.createElement)(d.A.Item,{name:"company_name",label:(0,s.__)("Company name","eventin")},(0,a.createElement)(p.ks,{placeholder:(0,s.__)("Company name","eventin")}))),(0,a.createElement)(c.A,{xs:24,md:12},(0,a.createElement)(d.A.Item,{label:(0,s.__)("Photo","eventin"),name:"image",tooltip:(0,s.__)("Upload photo","eventin")},(0,a.createElement)(g.ng,{form:E,name:"image",buttonText:(0,s.__)("Upload Photo","eventin")}))))))})},9555(e,t,n){n.r(t),n.d(t,{default:()=>D});var a=n(51609),i=n(29491),r=n(47143),l=n(86087),o=n(52619),s=n(27723),c=n(16370),d=n(54861),m=n(92911),u=n(60742),_=n(47152),p=n(428),g=n(32099),h=n(67313),v=n(74353),f=n.n(v),E=n(47767),A=n(54725),x=n(7638),y=n(94790),k=n(10012),b=n(6836),w=n(93015),S=n(64282),C=n(66878),z=n(16113),F=n(75093);const{Title:T,Text:N}=h.A,P=(0,r.withDispatch)(e=>{const t=e("eventin/global");return{invalidateScheduleList:()=>{t.invalidateResolution("getScheduleList")}}}),D=(0,i.compose)([P])(function(e){const{invalidateScheduleList:t}=e,[n]=u.A.useForm(),{id:i}=(0,E.useParams)(),r=(0,E.useNavigate)(),h=!!i,[v,P]=(0,l.useState)(!1),[D,I]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{h&&(I(!0),S.A.schedule.singleSchedule(i).then(e=>{const t={...e,date:f()(e.date)};n.setFieldsValue(t)}).finally(()=>{I(!1)}))},[]),(0,a.createElement)(z.ff,null,(0,a.createElement)(C.A,null),(0,a.createElement)(z.sC,{className:"eventin-schedule-form-wrapper"},(0,a.createElement)(z.MG,{className:"eventin-schedule-form-container"},(0,a.createElement)("div",{style:{marginBottom:"40px"}},(0,a.createElement)(T,{level:3,style:{fontWeight:600,margin:"0 0 8px 0",fontSize:"26px",lineHeight:"32px",color:"#111827"}},h?(0,s.__)("Update your schedule","eventin"):(0,s.__)("Create new schedules for your event.","eventin")),(0,a.createElement)(N,{style:{fontSize:"14px",color:"#6B7280",display:"block"}},(0,s.__)("Add a schedule to keep your event organized and running smoothly.","eventin"))),D?(0,a.createElement)(m.A,{justify:"center",align:"center",style:{minHeight:"320px"}},(0,a.createElement)(p.A,null)):(0,a.createElement)(u.A,{layout:"vertical",form:n,scrollToFirstError:!0,size:"large",onFinish:async()=>{P(!0);try{await n.validateFields();const e=n.getFieldsValue(!0);if(e.date=(0,b.dateFormatter)(e.date),h){const n=await S.A.schedule.updateSchedule(i,e);if(!n?.id)throw new Error((0,s.__)("Couldn't edit schedule properly!","eventin"));t(),r("/schedules"),(0,o.doAction)("eventin_notification",{type:"success",message:(0,s.__)("Successfully updated the schedule!","eventin")})}else{const n=await S.A.schedule.createSchedule(e);if(!n?.id)throw new Error((0,s.__)("Couldn't create schedule properly!","eventin"));t(),r("/schedules"),(0,o.doAction)("eventin_notification",{type:"success",message:(0,s.__)("Successfully created the schedule!","eventin")})}}catch(e){console.error((0,s.__)("Couldn't create schedule!","eventin")),console.error(e)}finally{P(!1)}},initialValues:{schedule_slot:[""]}},(0,a.createElement)(_.A,{gutter:[16,0]},(0,a.createElement)(c.A,{xs:24,md:12},(0,a.createElement)(k.ks,{name:"program_title",label:(0,s.__)("Program Title","eventin"),rules:[{required:!0,message:(0,s.__)("Program title is required!","eventin")}],required:!0,placeholder:(0,s.__)("Program Title","eventin"),size:"large",tooltip:(0,s.__)("This is the main title shown to attendees and used to group topics.","eventin")})),(0,a.createElement)(c.A,{xs:24,md:12},(0,a.createElement)(u.A.Item,{name:"date",label:(0,s.__)("Select Date","eventin"),rules:[{required:!0,message:(0,s.__)("Program date is required!","eventin")}],tooltip:(0,s.__)("Pick the date this session or schedule will take place.","eventin")},(0,a.createElement)(d.A,{size:"large",minDate:f()(new Date),style:{width:"100%"},format:(0,b.getDateFormat)()})))),(0,a.createElement)(_.A,{gutter:[16,0]},(0,a.createElement)(c.A,{xs:24},(0,a.createElement)(m.A,{align:"center"},(0,a.createElement)("p",{style:{margin:"5px 0px",fontSize:"16px",fontWeight:500}},(0,s.__)("Schedule Topics","eventin")),(0,a.createElement)(g.A,{title:(0,s.__)("Give attendees a sneak peek at the key topics your event will address.","eventin")},(0,a.createElement)("span",{style:{marginLeft:"7px"}},(0,a.createElement)(A.InfoCircleOutlined,{width:15,height:15})))),(0,a.createElement)(u.A.List,{name:"schedule_slot",label:(0,s.__)("Schedule Topics","eventin")},(e,{add:t,remove:i},{errors:r})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(w.A,{fields:e,form:n,remove:i}),(0,a.createElement)(u.A.Item,null,(0,a.createElement)(y.A,null,(0,a.createElement)(g.A,{title:(0,s.__)("Add a new schedule topic to provide more details about your event.","eventin")},(0,a.createElement)(x.Ay,{variant:x.Rm,onClick:()=>t(),icon:(0,a.createElement)(A.PlusOutlined,{width:16,height:16}),size:"middle",sx:{width:"100%",fontSize:"14px",fontWeight:500,height:"36px"}},(0,s.__)("Add Schedule Topic","eventin"))))))))),(0,a.createElement)(m.A,{gap:12,justify:"end"},(0,a.createElement)(x.Ay,{variant:x.Vt,onClick:()=>r("/schedules"),sx:{color:"#262626",padding:"8px 24px"}},(0,s.__)("Cancel","eventin")),(0,a.createElement)(x.Ay,{variant:x.zB,loading:v,htmlType:"submit",sx:{}},h?(0,s.__)("Update Schedule","eventin"):(0,s.__)("Create Schedule","eventin")))))),(0,a.createElement)(F.FloatingHelpButton,null))})},12824(e,t,n){n.d(t,{A:()=>a});const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"}},16113(e,t,n){n.d(t,{MG:()=>l,ff:()=>i,sC:()=>r});var a=n(69815);const i=a.default.div`
	background: #f3f5f7;
	min-height: calc( 100vh - 60px );
	padding-top: 30px;
`,r=a.default.div`
	background: #ffffff;
	border: 1px solid #e1e4e9;
	border-radius: 8px;
	padding: 20px;
	margin: 30px;
	margin-top: 0;
	@media ( max-width: 768px ) {
		padding: 10px;
		margin: 5px;
	}
`,l=a.default.div`
	max-width: 900px;
	padding: 20px 40px;
	margin: 0 auto;
	@media ( max-width: 768px ) {
		padding: 10px;
	}
`},44278(e,t,n){n.d(t,{A:()=>A});var a=n(51609),i=n(27723),r=n(86087),l=n(69815),o=n(16370),s=n(62567),c=n(60742),d=n(79888),m=n(47152),u=n(54725),_=n(7638),p=n(78847),g=n(37845),h=n(10012),v=n(6836),f=n(8194);const E=(0,l.default)(s.A)`
	.ant-collapse-content-box {
		background-color: #f5f5f5;
	}
`,A=e=>{const{form:t,field:n,remove:l}=e,[s,A]=(0,r.useState)(!1),[x,y]=(0,r.useState)(!1),[k,b]=(0,r.useState)(!1),w=[({getFieldValue:e})=>({validator(t,a){const i=e(["schedule_slot",n.name,"etn_shedule_end_time"]);if(i){const e=(0,v.getFormattedDateTime)({time:a});if((0,v.getFormattedDateTime)({time:i}).isBefore(e,"minutes"))return Promise.reject("Start time must be before end time")}return Promise.resolve()}})],S=[({getFieldValue:e})=>({validator(t,a){const r=e(["schedule_slot",n.name,"etn_shedule_start_time"]);if(r){const e=(0,v.getFormattedDateTime)({time:r});if((0,v.getFormattedDateTime)({time:a}).isBefore(e,"minutes"))return Promise.reject((0,i.__)("End time must be after start time","eventin"))}return Promise.resolve()}})],C=[{key:1,label:c.A.useWatch(["schedule_slot",n.name,"etn_schedule_topic"],{form:t,preserve:!0})||(0,i.__)("New Schedule Topic","eventin"),children:(0,a.createElement)(m.A,{gutter:[20,0]},(0,a.createElement)(o.A,{xs:24},(0,a.createElement)(h.ks,{name:[n.name,"etn_schedule_topic"],label:(0,i.__)("Topic Name","eventin"),placeholder:(0,i.__)("A short, clear title that attendees will understand.","eventin"),tooltip:(0,i.__)("What’s the session about? Placeholder: e.g. “The Future of AI”","eventin")})),(0,a.createElement)(o.A,{md:12,xs:24},(0,a.createElement)(p.A,{name:[n.name,"etn_shedule_start_time"],label:(0,i.__)("Start Time","eventin"),rules:w,tooltip:(0,i.__)("Add the start time block for this session","eventin"),dependencies:[["schedule_slot",n.name,"etn_shedule_end_time"]]})),(0,a.createElement)(o.A,{md:12,xs:24},(0,a.createElement)(p.A,{name:[n.name,"etn_shedule_end_time"],label:(0,i.__)("End Time","eventin"),tooltip:(0,i.__)("Add the end time block for this session","eventin"),dependencies:[["schedule_slot",n.name,"etn_shedule_start_time"]],rules:S})),(0,a.createElement)(o.A,{md:12,xs:24},(0,a.createElement)(c.A.Item,{name:[n.name,"speakers"],label:(0,i.__)("Speaker","eventin"),tooltip:(0,i.__)("Who’s speaking? Select from your added speakers","eventin")},(0,a.createElement)(g.A,{placeholder:(0,i.__)("Select the speakers for this event","eventin")},(0,a.createElement)(_.yl,{onClick:()=>A(!0)},(0,i.__)("Add New Speakers","eventin"))))),(0,a.createElement)(o.A,{md:12,xs:24},(0,a.createElement)(h.ks,{prefix:(0,a.createElement)(u.LocationOutlined,null),name:[n.name,"etn_shedule_room"],label:(0,i.__)("Location","eventin"),placeholder:(0,i.__)("Enter the room or location for this session","eventin"),tooltip:(0,i.__)("Where is this session taking place? Placeholder: e.g. Room 1, Building A","eventin")})),(0,a.createElement)(o.A,{xs:24},(0,a.createElement)(c.A.Item,{name:[n.name,"etn_shedule_objective"],label:(0,i.__)("Description","eventin"),placeholder:(0,i.__)("Add a brief description of this session","eventin"),tooltip:(0,i.__)("Add a description for this session","eventin")},(0,a.createElement)(d.A.TextArea,{className:"eventin-text-area",rows:3}))),(0,a.createElement)(f.A,{modalOpen:s,setModalOpen:A})),extra:k&&(0,a.createElement)(_.Ay,{variant:_.qy,icon:(0,a.createElement)(u.DeleteOutlined,{stroke:x?"#FF4D4F":"#747474"}),onClick:()=>l(n.name),onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),size:"small"})}];return(0,a.createElement)(E,{expandIconPosition:"end",className:"etn-schedule-topic",items:C,style:{margin:"15px 0px"},accordion:!0,defaultActiveKey:[1],onChange:e=>b(!e?.length)})}},64463(e,t,n){n.d(t,{X:()=>d});var a=n(51609),i=n(43627),r=n(74979),l=n(69815),o=n(80635),s=n(44278);const c=l.default.div`
	position: relative;
	touch-action: none; // Important for mobile drag

	.drag-handle {
		position: absolute;
		left: -30px;
		top: 20px; // Align with accordion header
		height: 24px;
		width: 24px;
		display: flex;
		align-items: center;
		justify-content: center;
		color: #747474;
		cursor: grab;
		transition: color 0.2s ease;
		z-index: 10;
		background: white; // Optional: add background to ensure visibility

		&:hover {
			color: #40a9ff;
		}

		&.dragging {
			cursor: grabbing;
		}
	}

	&.dragging {
		z-index: 1;
		.etn-schedule-topic {
			background: white;
			box-shadow: 0 0 10px rgba( 0, 0, 0, 0.1 );
		}
	}
`;function d({id:e,field:t,remove:n,form:l}){const{attributes:d,listeners:m,setNodeRef:u,transform:_,transition:p,isDragging:g}=(0,i.gl)({id:e,transition:{duration:150,easing:"cubic-bezier(0.25, 1, 0.5, 1)"}}),h={transform:r.Ks.Transform.toString(_),transition:p};return(0,a.createElement)(c,{ref:u,style:h,className:g?"dragging":""},(0,a.createElement)("div",{className:"drag-handle "+(g?"dragging":""),...d,...m},(0,a.createElement)(o.A,null)),(0,a.createElement)(s.A,{field:t,remove:n,form:l}))}},66878(e,t,n){n.d(t,{A:()=>_});var a=n(51609),i=n(56427),r=n(27723),l=n(92911),o=n(47767),s=n(69815),c=n(54725),d=n(7638),m=n(18062),u=n(27154);function _(e){const{id:t}=(0,o.useParams)(),n=(0,o.useNavigate)(),_=!!t;return s.default.div`
		@media ( max-width: 560px ) {
			display: none;
			border: 1px solid red;
		}
	`,(0,a.createElement)(i.Fill,{name:u.PRIMARY_HEADER_NAME},(0,a.createElement)(l.A,{justify:"space-between",align:"center",wrap:"wrap",gap:20},(0,a.createElement)(l.A,{align:"center",gap:16},(0,a.createElement)(d.Ay,{variant:d.Vt,icon:(0,a.createElement)(c.AngleLeftIcon,null),sx:{height:"36px",width:"36px",backgroundColor:"#fafafa",borderColor:"transparent",lineHeight:"1"},onClick:()=>{n("/schedules")}}),(0,a.createElement)(m.A,{title:_?(0,r.__)("Edit Schedule","eventin"):(0,r.__)("New Schedule","eventin")}))))}},80635(e,t,n){n.d(t,{A:()=>s});var a=n(58168),i=n(51609),r=n(12824),l=n(12226),o=function(e,t){return i.createElement(l.A,(0,a.A)({},e,{ref:t,icon:r.A}))};const s=i.forwardRef(o)},93015(e,t,n){n.d(t,{A:()=>c});var a=n(51609),i=n(15871),r=n(43627),l=n(69815),o=n(64463);const s=l.default.div`
	margin-left: 30px;
	position: relative;

	.etn-schedule-topic {
		margin: 15px 0;
		transition: transform 200ms ease;
	}

	.etn-schedule-topic:first-of-child {
		margin-top: 0;
	}

	.etn-schedule-topic:last-child {
		margin-bottom: 0;
	}
`,c=({fields:e,form:t,remove:n})=>{const l=(0,i.FR)((0,i.MS)(i.AN,{activationConstraint:{distance:1}}),(0,i.MS)(i.uN,{coordinateGetter:r.JR}));return(0,a.createElement)(s,null,(0,a.createElement)(i.Mp,{sensors:l,collisionDetection:i.fp,onDragEnd:n=>{const{active:a,over:i}=n;if(i&&a.id!==i.id){const n=e.findIndex(e=>e.key===a.id),l=e.findIndex(e=>e.key===i.id),o=t.getFieldValue("schedule_slot");if(o){const e=(0,r.be)(o,n,l);t.setFieldsValue({schedule_slot:e})}const s=(0,r.be)(e,n,l);e.splice(0,e.length,...s)}}},(0,a.createElement)(r.gB,{items:e.map(e=>e.key),strategy:r._G},e.map(e=>(0,a.createElement)(o.X,{key:e.key,id:e.key,field:e,remove:n,form:t})))))}},98503(e,t,n){n.d(t,{A:()=>_});var a=n(51609),i=n(86087),r=n(27723),l=n(29491),o=n(47143),s=n(92911),c=n(7638),d=n(10012),m=n(64282);const u=(0,o.withDispatch)(e=>{const t=e("eventin/global");return{refreshCategoryList:()=>t.invalidateResolution("getSpeakerCategories")}}),_=(0,l.compose)(u)(e=>{const{refreshCategoryList:t}=e,[n,l]=(0,i.useState)(null),[o,u]=(0,i.useState)(!1),_=async()=>{u(!0);try{await m.A.speakerCategories.createCategory({name:n}),l(null),t()}catch(e){console.error("Couldn't create speaker category!"),console.error(e.message)}finally{u(!1)}};return(0,a.createElement)(s.A,{gap:5},(0,a.createElement)(d.ks,{placeholder:(0,r.__)("New Group Name","eventin"),value:n,onChange:e=>{l(e.target.value)},onPressEnter:_}),(0,a.createElement)(c.Ay,{variant:c.zB,onClick:_,loading:o},(0,r.__)("Add New","eventin")))})}}]);