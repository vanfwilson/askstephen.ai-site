{"version":3,"file":"utils.js","mappings":"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","sources":["webpack://wcPPCP/./node_modules/@paypal/paypal-js/dist/esm/paypal-js.js","webpack://wcPPCP/external window \"jQuery\"","webpack://wcPPCP/external window \"lodash\"","webpack://wcPPCP/webpack/bootstrap","webpack://wcPPCP/webpack/runtime/compat get default export","webpack://wcPPCP/webpack/runtime/define property getters","webpack://wcPPCP/webpack/runtime/hasOwnProperty shorthand","webpack://wcPPCP/webpack/runtime/make namespace object","webpack://wcPPCP/external window [\"wp\",\"hooks\"]","webpack://wcPPCP/./assets/js/helpers/utils.js"],"sourcesContent":["/*!\n * paypal-js v5.1.1 (2022-08-03T17:21:59.218Z)\n * Copyright 2020-present, PayPal, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction findScript(url, attributes) {\n    var currentScript = document.querySelector(\"script[src=\\\"\".concat(url, \"\\\"]\"));\n    if (currentScript === null)\n        return null;\n    var nextScript = createScriptElement(url, attributes);\n    // ignore the data-uid-auto attribute that gets auto-assigned to every script tag\n    var currentScriptClone = currentScript.cloneNode();\n    delete currentScriptClone.dataset.uidAuto;\n    // check if the new script has the same number of data attributes\n    if (Object.keys(currentScriptClone.dataset).length !==\n        Object.keys(nextScript.dataset).length) {\n        return null;\n    }\n    var isExactMatch = true;\n    // check if the data attribute values are the same\n    Object.keys(currentScriptClone.dataset).forEach(function (key) {\n        if (currentScriptClone.dataset[key] !== nextScript.dataset[key]) {\n            isExactMatch = false;\n        }\n    });\n    return isExactMatch ? currentScript : null;\n}\nfunction insertScriptElement(_a) {\n    var url = _a.url, attributes = _a.attributes, onSuccess = _a.onSuccess, onError = _a.onError;\n    var newScript = createScriptElement(url, attributes);\n    newScript.onerror = onError;\n    newScript.onload = onSuccess;\n    document.head.insertBefore(newScript, document.head.firstElementChild);\n}\nfunction processOptions(options) {\n    var sdkBaseURL = \"https://www.paypal.com/sdk/js\";\n    if (options.sdkBaseURL) {\n        sdkBaseURL = options.sdkBaseURL;\n        delete options.sdkBaseURL;\n    }\n    processMerchantID(options);\n    var _a = Object.keys(options)\n        .filter(function (key) {\n        return (typeof options[key] !== \"undefined\" &&\n            options[key] !== null &&\n            options[key] !== \"\");\n    })\n        .reduce(function (accumulator, key) {\n        var value = options[key].toString();\n        if (key.substring(0, 5) === \"data-\") {\n            accumulator.dataAttributes[key] = value;\n        }\n        else {\n            accumulator.queryParams[key] = value;\n        }\n        return accumulator;\n    }, {\n        queryParams: {},\n        dataAttributes: {},\n    }), queryParams = _a.queryParams, dataAttributes = _a.dataAttributes;\n    return {\n        url: \"\".concat(sdkBaseURL, \"?\").concat(objectToQueryString(queryParams)),\n        dataAttributes: dataAttributes,\n    };\n}\nfunction objectToQueryString(params) {\n    var queryString = \"\";\n    Object.keys(params).forEach(function (key) {\n        if (queryString.length !== 0)\n            queryString += \"&\";\n        queryString += key + \"=\" + params[key];\n    });\n    return queryString;\n}\n/**\n * Parse the error message code received from the server during the script load.\n * This function search for the occurrence of this specific string \"/* Original Error:\".\n *\n * @param message the received error response from the server\n * @returns the content of the message if the string string was found.\n *          The whole message otherwise\n */\nfunction parseErrorMessage(message) {\n    var originalErrorText = message.split(\"/* Original Error:\")[1];\n    return originalErrorText\n        ? originalErrorText.replace(/\\n/g, \"\").replace(\"*/\", \"\").trim()\n        : message;\n}\nfunction createScriptElement(url, attributes) {\n    if (attributes === void 0) { attributes = {}; }\n    var newScript = document.createElement(\"script\");\n    newScript.src = url;\n    Object.keys(attributes).forEach(function (key) {\n        newScript.setAttribute(key, attributes[key]);\n        if (key === \"data-csp-nonce\") {\n            newScript.setAttribute(\"nonce\", attributes[\"data-csp-nonce\"]);\n        }\n    });\n    return newScript;\n}\nfunction processMerchantID(options) {\n    var merchantID = options[\"merchant-id\"], dataMerchantID = options[\"data-merchant-id\"];\n    var newMerchantID = \"\";\n    var newDataMerchantID = \"\";\n    if (Array.isArray(merchantID)) {\n        if (merchantID.length > 1) {\n            newMerchantID = \"*\";\n            newDataMerchantID = merchantID.toString();\n        }\n        else {\n            newMerchantID = merchantID.toString();\n        }\n    }\n    else if (typeof merchantID === \"string\" && merchantID.length > 0) {\n        newMerchantID = merchantID;\n    }\n    else if (typeof dataMerchantID === \"string\" &&\n        dataMerchantID.length > 0) {\n        newMerchantID = \"*\";\n        newDataMerchantID = dataMerchantID;\n    }\n    options[\"merchant-id\"] = newMerchantID;\n    options[\"data-merchant-id\"] = newDataMerchantID;\n    return options;\n}\n\n/**\n * Load the Paypal JS SDK script asynchronously.\n *\n * @param {Object} options - used to configure query parameters and data attributes for the JS SDK.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<Object>} paypalObject - reference to the global window PayPal object.\n */\nfunction loadScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = getDefaultPromiseImplementation(); }\n    validateArguments(options, PromisePonyfill);\n    // resolve with null when running in Node\n    if (typeof window === \"undefined\")\n        return PromisePonyfill.resolve(null);\n    var _a = processOptions(options), url = _a.url, dataAttributes = _a.dataAttributes;\n    var namespace = dataAttributes[\"data-namespace\"] || \"paypal\";\n    var existingWindowNamespace = getPayPalWindowNamespace(namespace);\n    // resolve with the existing global paypal namespace when a script with the same params already exists\n    if (findScript(url, dataAttributes) && existingWindowNamespace) {\n        return PromisePonyfill.resolve(existingWindowNamespace);\n    }\n    return loadCustomScript({\n        url: url,\n        attributes: dataAttributes,\n    }, PromisePonyfill).then(function () {\n        var newWindowNamespace = getPayPalWindowNamespace(namespace);\n        if (newWindowNamespace) {\n            return newWindowNamespace;\n        }\n        throw new Error(\"The window.\".concat(namespace, \" global variable is not available.\"));\n    });\n}\n/**\n * Load a custom script asynchronously.\n *\n * @param {Object} options - used to set the script url and attributes.\n * @param {PromiseConstructor} [PromisePonyfill=window.Promise] - optional Promise Constructor ponyfill.\n * @return {Promise<void>} returns a promise to indicate if the script was successfully loaded.\n */\nfunction loadCustomScript(options, PromisePonyfill) {\n    if (PromisePonyfill === void 0) { PromisePonyfill = getDefaultPromiseImplementation(); }\n    validateArguments(options, PromisePonyfill);\n    var url = options.url, attributes = options.attributes;\n    if (typeof url !== \"string\" || url.length === 0) {\n        throw new Error(\"Invalid url.\");\n    }\n    if (typeof attributes !== \"undefined\" && typeof attributes !== \"object\") {\n        throw new Error(\"Expected attributes to be an object.\");\n    }\n    return new PromisePonyfill(function (resolve, reject) {\n        // resolve with undefined when running in Node\n        if (typeof window === \"undefined\")\n            return resolve();\n        insertScriptElement({\n            url: url,\n            attributes: attributes,\n            onSuccess: function () { return resolve(); },\n            onError: function () {\n                var defaultError = new Error(\"The script \\\"\".concat(url, \"\\\" failed to load.\"));\n                if (!window.fetch) {\n                    return reject(defaultError);\n                }\n                // Fetch the error reason from the response body for validation errors\n                return fetch(url)\n                    .then(function (response) {\n                    if (response.status === 200) {\n                        reject(defaultError);\n                    }\n                    return response.text();\n                })\n                    .then(function (message) {\n                    var parseMessage = parseErrorMessage(message);\n                    reject(new Error(parseMessage));\n                })\n                    .catch(function (err) {\n                    reject(err);\n                });\n            },\n        });\n    });\n}\nfunction getDefaultPromiseImplementation() {\n    if (typeof Promise === \"undefined\") {\n        throw new Error(\"Promise is undefined. To resolve the issue, use a Promise polyfill.\");\n    }\n    return Promise;\n}\nfunction getPayPalWindowNamespace(namespace) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return window[namespace];\n}\nfunction validateArguments(options, PromisePonyfill) {\n    if (typeof options !== \"object\" || options === null) {\n        throw new Error(\"Expected an options object.\");\n    }\n    if (typeof PromisePonyfill !== \"undefined\" &&\n        typeof PromisePonyfill !== \"function\") {\n        throw new Error(\"Expected PromisePonyfill to be a function.\");\n    }\n}\n\n// replaced with the package.json version at build time\nvar version = \"5.1.1\";\n\nexport { loadCustomScript, loadScript, version };\n","module.exports = window[\"jQuery\"];","module.exports = window[\"lodash\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","import {isEqual, isEmpty} from 'lodash';\nimport $ from 'jquery';\nimport {defaultHooks} from \"@wordpress/hooks\";\nimport {loadScript} from '@paypal/paypal-js';\n\nlet urlParams = {};\n\nlet isLoading = false;\n\nconst fields = new Map();\n\nlet locales = null;\n\nexport const SHIPPING_OPTION_REGEX = /^([\\w]+)\\:(.+)$/;\n\nconst ADDRESS_MAPPING = {\n    address_1: 'address_line_1|line1',\n    address_2: 'address_line_2|line2',\n    state: 'admin_area_1|state',\n    city: 'admin_area_2|city',\n    postcode: 'postal_code',\n    country: 'country_code'\n};\n\nconst INTERMEDIATE_ADDRESS_MAPPING = {\n    city: 'city',\n    state: 'state',\n    postal_code: 'postcode',\n    country_code: 'country'\n}\n\n//export const hooks = createHooks();\n\nconst removeScriptById = (id) => {\n    const element = document.getElementById(id);\n    if (element) {\n        element.remove();\n    }\n}\n\nconst hasPayPalScript = (id) => {\n    const element = document.getElementById(id);\n    return !!element;\n}\n\nexport const loadPayPalSdk = (params = null) => {\n    return new Promise((resolve, reject) => {\n\n        // params may have changed so reload script\n        if (params && !isEmpty(params) && !isEqual(params, urlParams)) {\n            urlParams = params;\n            if (window.paypal) {\n                // cleanup\n                defaultHooks.doAction('paypalInstanceCleanup', window.paypal);\n            }\n            isLoading = true;\n            loadScript({...params}).then(paypal => {\n                resolve(paypal);\n                defaultHooks.doAction('paypalInstanceCreated', paypal, urlParams);\n            }).catch(error => {\n                console.log(error);\n                const msg = error?.message?.toLowerCase() || null;\n                let response;\n                if (msg) {\n                    if (msg.includes('locale')) {\n                        const {locale, ...newParams} = params;\n                        return loadPayPalSdk(newParams).then(paypal => {\n                            resolve(paypal);\n                        });\n                    } else if (msg.includes('client-id not recognized')) {\n                        response = {code: 'invalid_client_id'};\n                    } else if (msg.includes('invalid query value for client-id')) {\n                        response = {code: 'invalid_client_id'};\n                    } else if (msg.includes('invalid query value for currency')) {\n                        //response = {code: 'unsupported_currency', message: getErrorMessage({code: 'invalid_currency'}).replace('%', urlParams.currency)};\n                    }\n                }\n                defaultHooks.doAction('paypalLoadError');\n                reject(response);\n            }).finally(() => {\n                isLoading = false;\n            })\n        } else {\n            if (window.paypal && !isLoading) {\n                resolve(window.paypal);\n            } else {\n                defaultHooks.addAction('paypalInstanceCreated', 'wcPPCP', (paypal) => {\n                    resolve(paypal);\n                });\n                defaultHooks.addAction('paypalLoadError', 'wcPPCP', () => {\n                    reject();\n                })\n            }\n        }\n    })\n}\n\nexport const getSetting = (key) => {\n    if (typeof window.wcPPCPSettings !== 'undefined') {\n        return window.wcPPCPSettings[key] || {};\n    }\n    return {};\n}\n\nexport const setSetting = (key, value) => {\n    if (typeof window.wcPPCPSettings !== 'undefined') {\n        return window.wcPPCPSettings[key] = value;\n    }\n}\n\nexport const getPayPalQueryParams = () => getSetting('queryParams');\n\nexport const getFieldValue = (key, prefix = 'billing', useMap = false) => {\n    if (key.substring(0, 'shipping'.length) != 'shipping' && key.substring(0, 'billing'.length) != 'billing') {\n        if (prefix) {\n            key = `${prefix}_${key}`;\n        }\n    }\n    if (useMap) {\n        return fields.get(key);\n    }\n    if ($(`[name=\"${key}\"]`).length) {\n        return $(`[name=\"${key}\"]`).val();\n    }\n    return fields.get(key);\n}\n\nexport const fieldsToJson = () => {\n    const json = {};\n    fields.forEach((value, key) => {\n        json[key] = value;\n    });\n    return json;\n}\n\nexport const setFieldValue = (key, value, prefix = 'billing') => {\n    if (!!prefix && key.substring(0, 'shipping'.length) != 'shipping' && key.substring(0, 'billing'.length) != 'billing') {\n        key = `${prefix}_${key}`;\n    }\n    fields.set(key, value);\n    if ($(`[name=\"${key}\"]`).length) {\n        $(`[name=\"${key}\"]`).val(value);\n    }\n}\n\nexport const getErrorMessage = (error) => {\n    const messages = getSetting('errorMessages');\n    if (typeof error == 'string') {\n        return error;\n    }\n    if (error?.code && messages?.[error.code]) {\n        return messages[error.code];\n    }\n    if (error?.message) {\n        return error.message;\n    }\n}\n\nexport const submitErrorMessage = (error, container, context = 'checkout') => {\n    if (error?.message?.toLowerCase()?.match(/detected popup close|window is closed/)) {\n        return;\n    }\n    let msg = getErrorMessage(error);\n    let classes = 'woocommerce-NoticeGroup';\n    const $container = $(container);\n    if (context === 'checkout') {\n        classes += ' woocommerce-NoticeGroup-checkout';\n    }\n    if (Array.isArray(error)) {\n        msg = '<div class=\"' + classes + '\"><ul class=\"woocommerce-error\"><li>' + error.join('</li><li>') + '</li></ul></div>';\n    } else if (typeof error === 'string' && /<[^>]*>/.test(error)) {\n        msg = '<div class=\"' + classes + '\">' + error + '</div>';\n    } else {\n        msg = '<div class=\"' + classes + '\"><ul class=\"woocommerce-error\"><li>' + msg + '</li></ul></div>';\n    }\n    $('.woocommerce-NoticeGroup-checkout, .woocommerce-error, .woocommerce-message').remove();\n    $container.prepend(msg);\n    if ($.scroll_to_notices) {\n        $.scroll_to_notices($container);\n    } else {\n        $('html, body').animate({\n            scrollTop: $container.offset().top - 100\n        }, 1000);\n    }\n}\n\nexport const isValidAddress = (address, exclude = []) => {\n    let i18n_params = typeof wc_address_i18n_params == 'undefined' ? getSetting('i18n') : wc_address_i18n_params;\n    if (isEmpty(address)) {\n        return false;\n    }\n    if (!locales) {\n        locales = JSON.parse(i18n_params.locale.replace(/&quot;/g, '\"'));\n    }\n    if (!address.country || isEmpty(address)) {\n        return false;\n    }\n    let locale = locales?.[address.country] ? locales[address.country] : locales['default'];\n    locale = $.extend(true, {}, locales['default'], locale);\n    const entries = Object.entries(locale).filter(([key, value]) => !exclude.includes(key));\n    locale = Object.fromEntries(entries);\n    for (let key in locale) {\n        if (locale[key]?.required) {\n            const value = address?.[key] || null;\n            if (!value || !value?.trim()) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\n/**\n * Converts a WC cart address to a PayPal formatted address\n */\nexport const convertCartAddressToPayPal = (address) => {\n    const newAddress = {};\n    for (let key in address) {\n        if (ADDRESS_MAPPING?.[key]) {\n            if (ADDRESS_MAPPING[key].includes('|')) {\n                const [k1, k2] = ADDRESS_MAPPING[key].split('|');\n                newAddress[k1] = address[key];\n            } else {\n                newAddress[ADDRESS_MAPPING[key]] = address[key];\n            }\n        }\n    }\n    return newAddress;\n}\n\nexport const convertPayPalAddressToCart = (address, intermediate = false) => {\n    let mappings = {};\n    if (intermediate) {\n        mappings = INTERMEDIATE_ADDRESS_MAPPING;\n    } else {\n        mappings = Object.fromEntries(Object.entries(ADDRESS_MAPPING).map(([key, key2]) => [key2, key]));\n    }\n    const newAddress = {};\n    for (let key in mappings) {\n        if (key.includes('|')) {\n            const keys = key.split('|');\n            for (let k1 of keys) {\n                if (address.hasOwnProperty(k1)) {\n                    newAddress[mappings[key]] = address[k1];\n                    break;\n                } else {\n                    newAddress[mappings[key]] = '';\n                }\n            }\n        } else {\n            if (address.hasOwnProperty(key)) {\n                newAddress[mappings[key]] = address[key];\n            } else {\n                newAddress[mappings[key]] = '';\n            }\n        }\n    }\n    return newAddress;\n}\n\nexport const isValidFieldValue = (value) => {\n    value = value?.trim();\n    return !!value;\n}\n\nexport const isValid = key => {\n    return isValidFieldValue(getFieldValue(key));\n}\n\n/**\n * Given a formatted shipping method, extract it into the WC format.\n * @param selectedMethod\n */\nexport const extractShippingMethod = (selectedMethod) => {\n    const matches = selectedMethod.match(SHIPPING_OPTION_REGEX);\n    if (matches) {\n        const {1: packageId, 2: method} = matches;\n        return {[packageId]: method};\n    }\n    return null;\n}\n\nexport const extractFullName = (name) => {\n    name = name.trim();\n    const firstName = name.split(' ').slice(0, -1).join(' ');\n    const lastName = name.split(' ').pop();\n    return [firstName, lastName];\n}\n\n/**\n * Returns a rest route in ajax form given a route key\n * @param route\n * @returns {*|null}\n */\nexport const getRestRoute = (route) => {\n    return getSetting('generalData')?.restRoutes?.[route]?.url || null;\n}\n\n/**\n * Returns a rest route in ajax form given a route path.\n * @param path\n * @returns {*}\n */\nexport const getRestPath = (path) => {\n    path = path.replace(/^\\//, '');\n    return getSetting('generalData')?.ajaxRestPath?.replace('%s', path);\n}\n\nexport const getPage = () => getSetting('generalData').page;\n\nexport const isCheckout = () => getPage() === 'checkout';\n\nexport const isCart = () => getPage() === 'cart';\n\nexport const isOrderPay = () => getPage() === 'order_pay';\n\nexport const isProduct = () => getPage() === 'product';\n\nexport const isShop = () => getPage() === 'shop';\n\nexport const isAddPaymentMethod = () => getPage() === 'add_payment_method';\n\nexport const isMiniCartEnabled = () => false;\n\nexport const convertFormToData = ($form) => {\n    return $form.serializeArray().reduce((prev, current) => ({...prev, [current.name]: current.value}), {});\n}\n\nexport const formatPaymentMethod = (format, data) => {\n    // Prepare the replacement data with placeholders\n    const replacementData = {};\n\n    // Create placeholders from the data object\n    Object.keys(data).forEach(key => {\n        replacementData[`{${key}}`] = data[key];\n    });\n\n    // Replace all placeholders with actual values\n    let result = format;\n    Object.keys(replacementData).forEach(placeholder => {\n        // Use split and join which is more efficient for simple replacements\n        while (result.includes(placeholder)) {\n            result = result.replace(placeholder, replacementData[placeholder]);\n        }\n    });\n\n    return result;\n}\n\nexport const isPluginConnected = () => getSetting('generalData')?.clientId?.length > 0;\n\nexport const debounce = (func, wait = 250) => {\n    let timeout;\n    return (...args) => {\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            func(...args);\n        }, wait);\n    }\n}\n\nexport const isAdminUser = () => getSetting('generalData')?.is_admin === true;\n\n/**\n * Returns true if the active environment is production.\n * @returns {boolean}\n */\nexport const isProduction = () => getSetting('generalData')?.environment === 'production';\n\n/**\n * Check if a field is required\n * @param {string} fieldName - The field name (e.g., 'billing_email', 'billing_first_name')\n * @returns {boolean} True if the field is required\n */\nexport const isFieldRequired = (fieldName) => {\n    const requiredFields = getSetting('requiredFields') || [];\n    return requiredFields.includes(fieldName);\n};\n\n/**\n * ConfigurationError\n *\n * Thrown when a payment gateway has a configuration issue that prevents it from being used.\n * Examples: unsupported currency, SDK not loaded, invalid settings\n */\nexport class ConfigurationError extends Error {\n    constructor(message) {\n        super(message);\n        this.name = 'ConfigurationError';\n    }\n}"],"names":["createScriptElement","url","attributes","newScript","document","createElement","src","Object","keys","forEach","key","setAttribute","loadScript","options","PromisePonyfill","getDefaultPromiseImplementation","validateArguments","window","resolve","_a","sdkBaseURL","merchantID","dataMerchantID","newMerchantID","newDataMerchantID","Array","isArray","length","toString","processMerchantID","params","queryString","filter","reduce","accumulator","value","substring","dataAttributes","queryParams","concat","processOptions","namespace","existingWindowNamespace","getPayPalWindowNamespace","currentScript","querySelector","nextScript","currentScriptClone","cloneNode","dataset","uidAuto","isExactMatch","findScript","Error","reject","onSuccess","onError","onerror","onload","head","insertBefore","firstElementChild","insertScriptElement","defaultError","fetch","then","response","status","text","message","parseMessage","originalErrorText","split","replace","trim","parseErrorMessage","catch","err","loadCustomScript","newWindowNamespace","Promise","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","urlParams","isLoading","fields","Map","locales","SHIPPING_OPTION_REGEX","ADDRESS_MAPPING","address_1","address_2","state","city","postcode","country","INTERMEDIATE_ADDRESS_MAPPING","postal_code","country_code","loadPayPalSdk","arguments","isEmpty","isEqual","paypal","defaultHooks","_objectSpread","error","_error$message","console","log","msg","toLowerCase","includes","locale","newParams","_objectWithoutProperties","_excluded","code","finally","getSetting","wcPPCPSettings","setSetting","getPayPalQueryParams","getFieldValue","prefix","useMap","$","val","fieldsToJson","json","setFieldValue","set","getErrorMessage","messages","submitErrorMessage","container","_error$message2","_error$message2$toLow","context","match","classes","$container","join","test","remove","prepend","animate","scrollTop","offset","top","isValidAddress","address","_locales","exclude","i18n_params","wc_address_i18n_params","JSON","parse","entries","_ref","_ref2","_slicedToArray","fromEntries","_locale$key","required","convertCartAddressToPayPal","newAddress","_ADDRESS_MAPPING$key$2","k1","convertPayPalAddressToCart","intermediate","mappings","map","_ref3","_ref4","_step","_iterator","_createForOfIteratorHelper","s","done","e","f","isValidFieldValue","_value","isValid","extractShippingMethod","selectedMethod","matches","_defineProperty","extractFullName","name","slice","pop","getRestRoute","route","_getSetting","_getSetting$restRoute","_getSetting$restRoute2","restRoutes","getRestPath","path","_getSetting2","_getSetting2$ajaxRest","ajaxRestPath","getPage","page","isCheckout","isCart","isOrderPay","isProduct","isShop","isAddPaymentMethod","isMiniCartEnabled","convertFormToData","$form","serializeArray","prev","current","formatPaymentMethod","format","data","replacementData","result","placeholder","isPluginConnected","_getSetting3","_getSetting3$clientId","clientId","debounce","func","timeout","wait","_len","args","_key","clearTimeout","setTimeout","apply","isAdminUser","_getSetting4","is_admin","isProduction","_getSetting5","environment","isFieldRequired","fieldName","ConfigurationError","_Error","_inherits","_super","_this","_classCallCheck","_wrapNativeSuper"],"sourceRoot":""}