{"version":3,"file":"paypal-settings.js","mappings":"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","sources":["webpack://wcPPCP/webpack/bootstrap","webpack://wcPPCP/webpack/runtime/compat get default export","webpack://wcPPCP/webpack/runtime/define property getters","webpack://wcPPCP/webpack/runtime/hasOwnProperty shorthand","webpack://wcPPCP/webpack/runtime/make namespace object","webpack://wcPPCP/external window \"jQuery\"","webpack://wcPPCP/external window \"paypal\"","webpack://wcPPCP/./assets/js/admin/settings/base-settings.js","webpack://wcPPCP/./assets/js/admin/settings/register.js","webpack://wcPPCP/./assets/js/admin/settings/paypal-settings.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"paypal\"];","import $ from 'jquery';\n\nclass BaseSettings {\n    constructor({id, prefix, data}) {\n        this.id = id;\n        this.prefix = prefix;\n        this.data = data;\n        $(document.body).on('change', '[name^=\"woocommerce_ppcp_\"]', this.handleInputChange.bind(this));\n        $(document.body).on('click', '.wc-ppcp-clipboard', this.handleClipboard.bind(this));\n        this.maybeShowDependencies();\n        this.initializeSlider();\n    }\n\n    getFieldKey(key) {\n        return `${this.prefix}${key}`;\n    }\n\n    getFieldValue(key) {\n        const $el = $(`#${this.getFieldKey(key)}`);\n        if ($el.is(':checkbox')) {\n            return $el.is(':checked');\n        }\n        return $el.val();\n    }\n\n    setFieldValue(key, value, trigger = false) {\n        const id = `#${this.getFieldKey(key)}`;\n        $(id).val(value);\n        if (trigger) {\n            $(id).trigger('change');\n        }\n    }\n\n    handleInputChange(e) {\n        this.maybeShowDependencies();\n        if ($(e.currentTarget).attr('name') === 'woocommerce_ppcp_use_place_order') {\n            if ($(e.currentTarget).is(':checked')) {\n                $('#woocommerce_ppcp_checkout_placement').val('place_order').trigger('change');\n            }\n        }\n    }\n\n    /**\n     * Shows dependency settings based on value\n     */\n    maybeShowDependencies() {\n        const elements = document.querySelectorAll('[data-show-if]');\n        const hiddenElements = [];\n        for (const element of elements) {\n            const attr = element.getAttribute('data-show-if');\n            const matches = attr.match(/(([\\w]+)=([\\w]+))+/g);\n            if (matches && !hiddenElements.includes(element.id)) {\n                for (const match of matches) {\n                    const [key, value] = match.split('=');\n                    const el = document.getElementById(`${this.prefix}${key}`);\n                    try {\n                        if ($(el).is(':checkbox')) {\n                            if (el.checked.toString() != value) {\n                                throw 'no match';\n                            }\n                        } else {\n                            if (el.value != value) {\n                                throw 'no match';\n                            }\n                        }\n                        $(element).closest('tr').show();\n                    } catch (err) {\n                        hiddenElements.push(element.id);\n                        $(element).closest('tr').hide();\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    getSettings() {\n        return wcPPCPSettings[this.id];\n    }\n\n    getLoaderHtml() {\n        return `<div class=\"wc-ppcp-loader\">\n            <div></div>\n            <div></div>\n            <div></div>\n        </div>`;\n    }\n\n    showLoader(parent) {\n        $(parent).append(this.getLoaderHtml());\n    }\n\n    hideLoader(parent) {\n        $(parent).find('.wc-ppcp-loader').remove();\n    }\n\n    block(el = null, args = {}) {\n        const defaults = {\n            css: {\n                border: 'none',\n                'background-color': 'transparent',\n                'font-size': '16px'\n            },\n            overlayCSS: {\n                background: '#fff',\n                opacity: 0.7\n            }, ...args\n        }\n        if (el) {\n            $(el).block(defaults);\n        } else {\n            $.blockUI(defaults);\n        }\n    }\n\n    unblock(el) {\n        if (el) {\n            $(el).unblock();\n        } else {\n            $.unblockUI();\n        }\n    }\n\n    handleClipboard(e) {\n        const value = $(e.currentTarget).parent().data('clipboard');\n        const el = document.createElement('input');\n        el.value = value;\n        el.type = 'text';\n        $(document.body).append(el);\n        el.select();\n        document.execCommand('copy');\n        $(el).remove();\n    }\n\n    getAjaxPath(path) {\n        const ajaxUrl = wcPPCPSettings?.adminAjaxUrl || '';\n        path = path.replace(/(^\\/)/, '');\n        return ajaxUrl.replace('$path', path);\n    }\n\n    initializeSlider() {\n        const $el = $('.wc-ppcp-slider');\n        if (!$el.length) {\n            return;\n        }\n        const options = {\n            min: $el.data('height-min'),\n            max: $el.data('height-max'),\n            step: $el.data('height-step'),\n            value: this.getFieldValue('button_height')\n        };\n        $el.slider(options);\n        $el.on('slidechange', (e, ui) => {\n            this.onSlideChange(e, ui);\n        }).on('slide', (e, ui) => $el.closest('td').find('.wc-ppcp-slider-val').text(`${ui.value}px`));\n    }\n\n    onSlideChange(e, ui) {\n        this.setFieldValue('button_height', ui.value, true);\n        $(e.currentTarget).closest('td').find('.wc-ppcp-slider-val').text(`${ui.value}px`);\n    }\n}\n\nexport default BaseSettings;","export const registerSettings = (id, clazz) => {\n    new clazz({\n        id,\n        prefix: `woocommerce_${id}_`,\n        data: wcPPCPSettings?.[id] || {}\n    })\n}\n","import $ from 'jquery';\nimport paypal from '@paypal/smartbutton';\nimport BaseSettings from \"./base-settings\";\nimport {registerSettings} from \"./register\";\n\nclass PaypalSettings extends BaseSettings {\n\n    constructor(props) {\n        super(props);\n        this.buttons = {};\n        this.sources = [paypal.FUNDING.PAYPAL, paypal.FUNDING.PAYLATER, paypal.FUNDING.CARD];\n        $('.wc-ppcp-smartbutton-option').on('change', this.handleButtonOptionChange.bind(this));\n        $('.ppcp-smartbutton').on('click', this.handleSmartbuttonClick.bind(this));\n\n        this.initializeButton();\n    }\n\n    handleSmartbuttonClick() {\n\n    }\n\n    handleButtonOptionChange() {\n        this.initialize_button();\n    }\n\n    onSlideChange(e, ui) {\n        super.onSlideChange(e, ui);\n        this.initializeButton();\n    }\n\n    initializeButton() {\n        for (let source in this.buttons) {\n            if (this.buttons?.[source]?.close) {\n                if (this.buttons[source].isEligible()) {\n                    this.buttons[source].close();\n                }\n            }\n        }\n        $('#ppcp_button_demo').empty();\n        for (const fundingSource of this.getSources()) {\n            const button = paypal.Buttons(this.getButtonOptions(fundingSource));\n            this.buttons[fundingSource] = button;\n            $('#ppcp_button_demo').append(`<li class=\"wc-ppcp-button__demo paypal-${fundingSource}\" data-funding=\"${fundingSource}\"></li>`)\n            if (button.isEligible()) {\n                this.buttons[fundingSource].render($('#ppcp_button_demo').find(`.paypal-${fundingSource}`)[0]);\n            } else {\n                const fundingStyles = this.getFundingSourceStyles(fundingSource);\n                const colorClass = fundingStyles.color ? `wc-ppcp-color-${fundingStyles.color}` : '';\n                $('#ppcp_button_demo').find(`.paypal-${fundingSource}`).append(\n                    `<button class=\"wc-ppcp-funding-placeholder-button ${fundingSource} ${colorClass}\" style=\"${this.getPlaceholderButtonStyles(fundingSource)}\">${fundingSource.toUpperCase()}</button>`\n                )\n            }\n        }\n\n        this.initSortable();\n    }\n\n    initSortable() {\n        $('#ppcp_button_demo')?.sortable({\n            items: 'li',\n            axis: 'y',\n            stop: (event, ui) => {\n                $('[name^=\"woocommerce_ppcp_buttons_order\"]').remove();\n                $('#ppcp_button_demo').find('li').each((idx, e) => {\n                    const funding = $(e).data('funding');\n                    $('#mainform').append(`<input type=\"hidden\" name=\"woocommerce_ppcp_buttons_order[]\" value=\"${funding}\"/>`);\n                });\n                $('[name=\"save\"]').prop('disabled', false);\n            }\n        });\n    }\n\n    getButtonOptions(fundingSource) {\n        return {\n            fundingSource,\n            style: this.getButtonStyleOptions(fundingSource)\n        }\n    }\n\n    getButtonStyleOptions(fundingSource) {\n        const baseStyle = {\n            layout: 'vertical',\n            shape: this.getFieldValue('button_shape'),\n            height: parseInt(this.getFieldValue('button_height'))\n        }\n        const fundingSourceStyles = this.getFundingSourceStyles(fundingSource);\n        return {...baseStyle, ...fundingSourceStyles};\n    }\n\n    getFundingSourceStyles(fundingSource) {\n        const style = {};\n        switch (fundingSource) {\n            case paypal.FUNDING.PAYPAL:\n                style.color = this.getFieldValue('paypal_button_color');\n                style.label = this.getFieldValue('button_label');\n                break;\n            case paypal.FUNDING.PAYLATER:\n            case paypal.FUNDING.CREDIT:\n                style.color = this.getFieldValue('paylater_button_color');\n                break;\n            case paypal.FUNDING.CARD:\n                style.tagline = this.getFieldValue('card_tagline_enabled');\n                style.layout = 'horizontal';\n                style.color = this.getFieldValue('card_button_color');\n                if (style.tagline) {\n                    style.layout = 'vertical';\n                    delete style.tagline;\n                }\n                break;\n        }\n        return style;\n    }\n\n    getSources() {\n        const sources = [paypal.FUNDING.PAYPAL];\n        if (this.getFieldValue('paylater_enabled')) {\n            sources.push(paypal.FUNDING.PAYLATER);\n        }\n        if (this.getFieldValue('venmo_enabled')) {\n            sources.push(paypal.FUNDING.VENMO);\n        }\n        if (this.getFieldValue('card_enabled')) {\n            sources.push(paypal.FUNDING.CARD);\n        }\n        const order = this.getSortOrder();\n        sources.sort((a, b) => {\n            const indexA = order.indexOf(a);\n            const indexB = order.indexOf(b);\n            return indexA < indexB ? -1 : 1;\n        });\n        return sources;\n    }\n\n    getSortOrder() {\n        const elements = document.querySelectorAll('[name=\"woocommerce_ppcp_buttons_order[]\"]');\n        return [...elements].map(e => e.value);\n    }\n\n    getPlaceholderButtonStyles() {\n        const style = {\n            height: parseInt(this.getFieldValue('button_height')) + 'px',\n            width: '100%'\n        }\n        return Object.entries(style).map(([key, value]) => {\n            return `${key}: ${value}`;\n        }).join('; ')\n    }\n\n}\n\nregisterSettings('ppcp', PaypalSettings);\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","window","id","_wcPPCPSettings","BaseSettings","_ref","prefix","data","_classCallCheck","this","$","document","body","on","handleInputChange","bind","handleClipboard","maybeShowDependencies","initializeSlider","concat","$el","getFieldKey","is","val","trigger","arguments","length","undefined","e","currentTarget","attr","_step","hiddenElements","_iterator","_createForOfIteratorHelper","querySelectorAll","s","n","done","element","matches","getAttribute","match","includes","_step2","_iterator2","_match$split2","split","el","getElementById","checked","toString","closest","show","err","push","hide","f","wcPPCPSettings","parent","append","getLoaderHtml","find","remove","args","defaults","_objectSpread","css","border","overlayCSS","background","opacity","block","unblock","createElement","type","select","execCommand","path","ajaxUrl","adminAjaxUrl","replace","_this","options","min","max","step","getFieldValue","slider","ui","onSlideChange","text","setFieldValue","_BaseSettings","_inherits","PaypalSettings","_super","props","buttons","sources","paypal","handleButtonOptionChange","_assertThisInitialized","handleSmartbuttonClick","initializeButton","initialize_button","_get","_getPrototypeOf","source","_this$buttons","_this$buttons$source","close","isEligible","empty","getSources","fundingSource","button","getButtonOptions","render","fundingStyles","getFundingSourceStyles","colorClass","color","getPlaceholderButtonStyles","toUpperCase","initSortable","_$","sortable","items","axis","stop","event","each","idx","funding","style","getButtonStyleOptions","baseStyle","layout","shape","height","parseInt","fundingSourceStyles","label","tagline","order","getSortOrder","sort","b","indexOf","map","width","entries","_ref2","join"],"sourceRoot":""}