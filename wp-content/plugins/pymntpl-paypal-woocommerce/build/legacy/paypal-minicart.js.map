{"version":3,"file":"paypal-minicart.js","mappings":"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","sources":["webpack://wcPPCP_legacy-frontend/webpack/bootstrap","webpack://wcPPCP_legacy-frontend/webpack/runtime/compat get default export","webpack://wcPPCP_legacy-frontend/webpack/runtime/define property getters","webpack://wcPPCP_legacy-frontend/webpack/runtime/hasOwnProperty shorthand","webpack://wcPPCP_legacy-frontend/webpack/runtime/make namespace object","webpack://wcPPCP_legacy-frontend/external window \"jQuery\"","webpack://wcPPCP_legacy-frontend/external window [\"wp\",\"apiFetch\"]","webpack://wcPPCP_legacy-frontend/external window [\"wp\",\"hooks\"]","webpack://wcPPCP_legacy-frontend/external window [\"wcPPCP\",\"utils\"]","webpack://wcPPCP_legacy-frontend/external window \"lodash\"","webpack://wcPPCP_legacy-frontend/./assets/js/legacy/classes/class-minicart-gateway.js","webpack://wcPPCP_legacy-frontend/./assets/js/legacy/classes/class-base-gateway.js","webpack://wcPPCP_legacy-frontend/external window [\"wcPPCP\",\"cart\"]","webpack://wcPPCP_legacy-frontend/external window [\"wcPPCP\",\"actions\"]","webpack://wcPPCP_legacy-frontend/./assets/js/legacy/ppcp/paypal-minicart.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"jQuery\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wcPPCP\"][\"utils\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"lodash\"];","import $ from 'jquery';\nimport BaseGateway from \"./class-base-gateway\";\n\nclass MiniCartGateway extends BaseGateway {\n\n    constructor(cart, props) {\n        super(props);\n        this.cart = cart;\n        this.retryCount = 0;\n        this.initialize();\n    }\n\n    initialize() {\n        this.actions.addAction('fragments_changed', this.onFragmentsChanged.bind(this));\n        $(document.body).on('wc_ppcp_on_destroy', this.createButton.bind(this));\n        super.initialize();\n    }\n\n    needsShipping() {\n        return this.cart.needsShipping();\n    }\n\n    createButton() {\n        const container = this.getButtonContainer();\n        if (!container && this.retryCount < 10) {\n            this.retryCount += 1;\n            return setTimeout(this.createButton.bind(this), 500);\n        }\n        super.createButton();\n    }\n\n    getButtonContainer() {\n        const el = document.querySelectorAll(`.wc-ppcp-minicart-${this.id}`);\n        if (el && el.length > 0) {\n            return el;\n        }\n        $('.woocommerce-mini-cart__buttons').append(`<a id=\"wc-ppcp-minicart-${this.id}\"></a>`);\n        return document.getElementById(`wc-ppcp-minicart-${this.id}`);\n    }\n\n    getPage() {\n        return 'minicart';\n    }\n\n    handleBillingToken(response) {\n        super.handleBillingToken(response);\n        this.processCartCheckout();\n    }\n\n    createOrder(data, actions) {\n        return this.cart.createOrder({payment_method: this.id}).then(orderId => {\n            return orderId;\n        });\n    }\n\n    onFragmentsChanged() {\n        if (!this.cart.isEmpty()) {\n            super.initialize();\n        }\n    }\n}\n\nexport {MiniCartGateway}","import $ from 'jquery';\nimport apiFetch from \"@wordpress/api-fetch\";\nimport {defaultHooks} from \"@wordpress/hooks\";\nimport {\n    loadPayPalSdk,\n    getFieldValue,\n    isValidAddress,\n    extractShippingMethod,\n    getRestRoute,\n    getRestPath,\n    convertPayPalAddressToCart,\n    fieldsToJson,\n    extractFullName,\n    getSetting,\n    setFieldValue,\n    isValid,\n    isValidFieldValue,\n    getPayPalQueryParams,\n    getErrorMessage\n} from \"@ppcp/utils\";\nimport {isEmpty} from \"lodash\";\n\nclass BaseGateway {\n\n    constructor({id, context, actions, container = null}) {\n        this.id = id;\n        this.actions = actions;\n        this.buttons = {};\n        this.buttonActions = {};\n        this.context = context;\n        this.settings = getSetting(`${id}_data`);\n        this.container = container ? container : `li.payment_method_${id}`;\n        this.order_field_key = `${this.id}_paypal_order_id`;\n        this.billing_token_key = `${this.id}_billing_token`;\n    }\n\n    initialize() {\n        //load the paypal script\n        this.loadPayPalScript().then(() => {\n            // setup required events;\n            this.initializeEvents();\n            // render the button\n            this.createButton();\n        });\n    }\n\n    initializeEvents() {\n\n    }\n\n    isActive() {\n        return this.getData() !== null;\n    }\n\n    /**\n     * Loads the PayPal JS SDK\n     */\n    loadPayPalScript() {\n        return new Promise((resolve, reject) => {\n            loadPayPalSdk(this.getPayPalSDKArgs()).then(paypal => {\n                this.paypal = paypal;\n                resolve();\n            }).catch(error => {\n                console.log(error);\n                if (error?.code) {\n                    this.submitError(getErrorMessage(error));\n                }\n                reject();\n            })\n        })\n    }\n\n    /**\n     * Returns params used to laod the PayPal SDK\n     * @returns {{}}\n     */\n    getPayPalSDKArgs() {\n        return getPayPalQueryParams();\n    }\n\n    getClientId() {\n        let {clientId = null, environment} = getSetting('generalData');\n        if (!clientId && environment == 'sandbox') {\n            clientId = 'sb';\n        }\n        return clientId;\n    }\n\n    getData() {\n        let data = $(`${this.container}`).find('.wc-ppcp-payment-method-data').data('payment-method-data');\n        if (!data) {\n            return null;\n        }\n        return data;\n    }\n\n    setData(data) {\n        $(`${this.container}`).find('.wc-ppcp-payment-method-data').data('payment-method-data', data);\n    }\n\n    setOption(key, value) {\n        const data = this.getData();\n        if (data) {\n            data[key] = value;\n            this.setData(data);\n        }\n    }\n\n    setVariable(key, value) {\n        const data = getSetting(`${this.id}_data`);\n        data[key] = value;\n    }\n\n    getVariable(key, defaultValue = null) {\n        const data = getSetting(`${this.id}_data`);\n        if (data.hasOwnProperty(key)) {\n            return data[key];\n        }\n        if (defaultValue) {\n            this.setVariable(key, defaultValue);\n        }\n        return defaultValue;\n    }\n\n    /**\n     * Fetches an option from the payment method data object.\n     * @param key\n     * @param defaultValue\n     * @returns {null|*}\n     */\n    getOption(key, defaultValue = null) {\n        const data = this.getData();\n        if (data.hasOwnProperty(key)) {\n            return data[key];\n        } else {\n            if (defaultValue) {\n                this.setOption(key, defaultValue);\n            }\n        }\n        return defaultValue;\n    }\n\n    createButton() {\n        const container = this.getButtonContainer();\n        if (container && !$(container).find('.paypal-buttons').length) {\n            this.getSortedFunding(this.getFunding()).forEach(source => {\n                const button = this.paypal.Buttons(this.getButtonOptions(source));\n                this.buttons[source] = button;\n                if (button.isEligible()) {\n                    if (container instanceof NodeList) {\n                        for (const node of container) {\n                            button.render(node);\n                        }\n                    } else {\n                        button.render(container);\n                    }\n                }\n            });\n            this.$button = $(container);\n            defaultHooks.doAction('wcPPCPButtonCreated', this);\n        }\n    }\n\n    getButton() {\n        return this.$button;\n    }\n\n    destroyButtons() {\n        Object.keys(this.buttons).forEach(key => {\n            if (this.buttons[key]['close']) {\n                this.buttons[key].close();\n            }\n        })\n    }\n\n    disableButtons() {\n        Object.keys(this.buttonActions).forEach(key => {\n            this.buttonActions[key].disable();\n        });\n    }\n\n    enableButtons() {\n        Object.keys(this.buttonActions).forEach(key => {\n            this.buttonActions[key].enable();\n        });\n    }\n\n    getFunding() {\n        const funding = [];\n        const settings = this.settings?.funding || [];\n        if (this.settings?.paypal_sections?.includes(this.getPage())) {\n            funding.push(paypal.FUNDING.PAYPAL);\n        }\n        if (settings.includes('paylater') && this.settings?.paylater_sections?.includes(this.getPage())) {\n            if (this.isCheckoutFlow()) {\n                funding.push(paypal.FUNDING.PAYLATER);\n            }\n        }\n        if (settings.includes('card') && this.settings?.credit_card_sections?.includes(this.getPage())) {\n            funding.push(paypal.FUNDING.CARD);\n        }\n        return funding;\n    }\n\n    isFundingActive(type) {\n        return this.settings?.funding?.includes(type);\n    }\n\n    isSectionEnabled(type, section) {\n        const key = `${type}_sections`;\n        return this.settings?.[key]?.includes(section);\n    }\n\n    getSortedFunding(funding) {\n        const sortOrder = this.settings.buttons_order || [];\n        funding.sort((a, b) => {\n            const indexA = sortOrder.indexOf(a);\n            const indexB = sortOrder.indexOf(b);\n            return indexA < indexB ? -1 : 1;\n        });\n        return funding;\n    }\n\n    getButtonContainer() {\n        return null;\n    }\n\n    getButtonOptions(source) {\n        const options = {\n            fundingSource: source,\n            style: this.getButtonStyle(source),\n            onInit: (...args) => {\n                this.onInit(source, ...args);\n                $(document.body).triggerHandler('wc_ppcp_on_init', [this, source]);\n            },\n            onClick: (...args) => {\n                this.onClick(...args);\n                $(document.body).triggerHandler('wc_ppcp_on_click', [this, source]);\n            },\n            onApprove: (data, actions) => {\n                this.onApprove(data, actions);\n                $(document.body).triggerHandler('wc_ppcp_on_approve', [this, source]);\n            },\n            onCancel: (data) => {\n                this.orderId = data.orderID;\n                $(document.body).triggerHandler('wc_ppcp_on_cancel', [this, source, data]);\n            },\n            onError: (error) => {\n                if (this.currentError) {\n                    this.submitError(this.currentError);\n                    this.currentError = null;\n                } else {\n                    this.submitError(error);\n                }\n                $(document.body).triggerHandler('wc_ppcp_on_error', [this, source, error]);\n            },\n            onDestroy: () => {\n                $(document.body).triggerHandler('wc_ppcp_on_destroy', [this, source]);\n            }\n        };\n        if (this.isCheckoutFlow()) {\n            options.createOrder = (data, actions) => {\n                return this.createOrder(data, actions);\n            }\n            if (this.needsShipping() && source !== paypal.FUNDING.VENMO) {\n                options.onShippingChange = (...args) => {\n                    return this.onShippingChange(...args);\n                }\n            }\n        } else {\n            options.createBillingAgreement = (...args) => {\n                return this.createBillingAgreement(...args);\n            }\n        }\n        return options;\n    }\n\n    needsShipping() {\n        return this.getOption('needsShipping', false);\n    }\n\n    isCheckoutFlow() {\n        return getPayPalQueryParams()?.vault !== 'true';\n    }\n\n    getTotal() {\n        return this.getOption('total', 0);\n    }\n\n    getButtonStyle(source) {\n        let style = null;\n        switch (source) {\n            case paypal.FUNDING.PAYPAL:\n                style = this.settings?.buttons?.paypal;\n                break;\n            case paypal.FUNDING.PAYLATER:\n                style = this.settings?.buttons?.paylater;\n                break;\n            case paypal.FUNDING.CARD:\n                style = {...this.settings?.buttons?.card};\n                if (style.tagline) {\n                    delete style.tagline;\n                    style.layout = 'vertical';\n                } else {\n                    style.layout = 'horizontal';\n                }\n                break;\n            case paypal.FUNDING.VENMO:\n                const {color = '', label = '', ...venmoStyle} = this.settings?.buttons?.paypal;\n                style = venmoStyle;\n                break;\n        }\n        if (style?.height) {\n            style.height = parseInt(style.height);\n        }\n        return style;\n    }\n\n    onApprove(data, actions) {\n        setFieldValue(this.order_field_key, data.orderID, '');\n        if (data.billingToken) {\n            setFieldValue(this.billing_token_key, data.billingToken, '');\n            return this.fetchBillingToken(data.billingToken).then(response => {\n                this.handleBillingToken(response, data);\n            }).catch(error => {\n                return this.submitError(error?.message);\n            });\n        } else {\n            actions.order.get().then((res) => {\n                this.handleOnApproveResponse(data, res);\n            }).catch(error => this.submitError(error));\n        }\n    }\n\n    handleOnApproveResponse(data, response) {\n        this.populateCheckoutFields(response);\n        this.processCartCheckout();\n    }\n\n    fetchBillingToken(token) {\n        return apiFetch({\n            method: 'GET',\n            path: `/wc-ppcp/v1/billing-agreement/token/${token}`\n        });\n    }\n\n    handleBillingToken(token, data) {\n        if (!isEmpty(token.payer_info.billing_address)) {\n            this.populateBillingAddressFields(convertPayPalAddressToCart(token.payer_info.billing_address));\n        }\n        if (token?.payer_info?.first_name) {\n            if (!isValid('billing_first_name')) {\n                setFieldValue('first_name', token.payer_info.first_name, 'billing');\n            }\n        }\n        if (token?.payer_info?.last_name) {\n            if (!isValid('billing_last_name')) {\n                setFieldValue('last_name', token.payer_info.last_name, 'billing');\n            }\n        }\n        if (token?.payer_info?.email) {\n            if (!isValid('billing_email')) {\n                setFieldValue('billing_email', token.payer_info.email);\n            }\n        }\n        if (token?.payer_info?.phone) {\n            if (!isValid('billing_phone')) {\n                setFieldValue('billing_phone', token.payer_info.phone);\n            }\n        }\n        if (this.needsShipping() && token.shipping_address) {\n            if (!isEmpty(token.shipping_address)) {\n                let address = convertPayPalAddressToCart(token.shipping_address);\n                this.populateNameFields(extractFullName(token.shipping_address.recipient_name ?? ''), 'shipping');\n                this.populateShippingAddressFields(address);\n                if (!isValidAddress(this.getCartFullAddress('billing'), ['phone', 'email'])) {\n                    if (!isValidFieldValue(getFieldValue('billing_first_name')) && !isValidFieldValue(getFieldValue('billing_last_name'))) {\n                        this.populateNameFields(token.shipping_address.recipient_name ?? '', 'billing');\n                    }\n                    this.populateBillingAddressFields(address);\n                }\n            }\n        }\n    }\n\n    createOrder(data, actions) {\n        return actions.order.create(args);\n    }\n\n    createBillingAgreement(data, actions, extraData = null) {\n        return apiFetch({\n            method: 'POST',\n            url: getRestPath('/wc-ppcp/v1/billing-agreement/token'),\n            data: {\n                payment_method: this.id,\n                context: this.getPage(),\n                ...extraData\n            }\n        }).then(token => {\n            return token;\n        }).catch(error => {\n            this.currentError = error;\n        })\n    }\n\n    onShippingChange(data, actions, extraData = {}) {\n        const address = convertPayPalAddressToCart(data?.shipping_address || {}, true);\n        const shipping_method = extractShippingMethod(data?.selected_shipping_option?.id || '');\n        return apiFetch({\n            method: 'POST',\n            url: getRestRoute('cart/shipping'),\n            data: {\n                order_id: data.orderID,\n                address,\n                shipping_method,\n                payment_method: this.id,\n                ...extraData\n            }\n        }).then(response => {\n            if (response.code) {\n                return actions.reject();\n            } else {\n                return actions.resolve();\n            }\n        }).catch(error => {\n            return actions.reject();\n        })\n    }\n\n    submitError(error) {\n\n    }\n\n    getShippingPrefix() {\n        return 'shipping';\n    }\n\n    getCartAddress(type) {\n        return {\n            address_1: getFieldValue('address_1', type),\n            address_2: getFieldValue('address_2', type),\n            state: getFieldValue('state', type),\n            city: getFieldValue('city', type),\n            postcode: getFieldValue('postcode', type),\n            country: getFieldValue('country', type)\n        }\n    }\n\n    getCartFullAddress(type) {\n        return {\n            first_name: getFieldValue('first_name', type),\n            last_name: getFieldValue('last_name', type),\n            address_1: getFieldValue('address_1', type),\n            address_2: getFieldValue('address_2', type),\n            state: getFieldValue('state', type),\n            city: getFieldValue('city', type),\n            postcode: getFieldValue('postcode', type),\n            country: getFieldValue('country', type)\n        }\n    }\n\n    onInit(source, data, actions) {\n        this.buttonActions[source] = actions;\n    }\n\n    onClick(data, actions) {\n\n    }\n\n    isPage(page) {\n        return this.getPage() === page;\n    }\n\n    getPage() {\n        let page = getSetting('generalData')?.page;\n        if (page == 'cart' && $(document.body).is('.woocommerce-checkout')) {\n            page = 'checkout';\n        }\n        return page;\n    }\n\n    populateShippingAddressFields(address) {\n        for (let key in address) {\n            setFieldValue(key, address[key], 'shipping');\n        }\n    }\n\n    populateBillingAddressFields(address) {\n        for (let key in address) {\n            setFieldValue(key, address[key], 'billing');\n        }\n    }\n\n    populateNameFields(name, prefix = '') {\n        let first_name, last_name;\n        if (Array.isArray(name)) {\n            [first_name, last_name] = name;\n        } else {\n            ({given_name: first_name, surname: last_name} = name);\n        }\n        setFieldValue('first_name', first_name, prefix);\n        setFieldValue('last_name', last_name, prefix);\n    }\n\n    populateCheckoutFields(response) {\n        if (!isEmpty(response?.payer?.address)) {\n            let address = convertPayPalAddressToCart(response.payer.address);\n            this.populateBillingAddressFields(address);\n        }\n        if (response?.payer?.name) {\n            this.populateNameFields(response.payer.name, 'billing');\n        }\n        if (response?.payer?.email_address) {\n            setFieldValue('billing_email', response.payer.email_address);\n        }\n        if (response?.payer?.phone?.phone_number?.national_number) {\n            setFieldValue('billing_phone', response.payer.phone.phone_number.national_number);\n            setFieldValue('shipping_phone', response.payer.phone.phone_number.national_number);\n        }\n        if (this.needsShipping() && response?.purchase_units?.[0]?.shipping) {\n            const address = convertPayPalAddressToCart(response.purchase_units[0].shipping.address)\n            this.populateShippingAddressFields(address);\n            if (response.purchase_units[0].shipping?.name?.full_name) {\n                const name = extractFullName(response.purchase_units[0].shipping.name.full_name);\n                this.populateNameFields(name, 'shipping');\n            }\n            // add billing address if possible\n            if (!isValidAddress(this.getCartFullAddress('billing'), ['phone', 'email'])) {\n                this.populateBillingAddressFields(address);\n            }\n        }\n    }\n\n    processCartCheckout() {\n        this.showProcessing();\n        return apiFetch({\n            method: 'POST',\n            url: getRestRoute('cart/checkout'),\n            data: this.getCartCheckoutData()\n        }).then(response => {\n            if (response.result && 'success' == response.result) {\n                window.location = response.redirect;\n            } else {\n                if (response.messages) {\n                    return this.submitError(response.messages);\n                }\n            }\n        }).catch(error => {\n            if (error.code) {\n                this.submitError(error.message);\n            }\n        });\n    }\n\n    getCartCheckoutData() {\n        return {payment_method: this.id, context: this.getPage(), ...fieldsToJson()};\n    }\n\n    getProcessingSelector() {\n        return 'body';\n    }\n\n    showProcessing() {\n        $(this.getProcessingSelector())?.block({\n            message: this.getProcessingMessage(),\n            overlayCSS: {\n                background: '#fff',\n                opacity: 0.6\n            }\n        });\n    }\n\n    hideProcessing() {\n        $(this.getProcessingSelector())?.unblock();\n    }\n\n    getProcessingMessage() {\n        return `<div class=\"wc-ppcp-loader\">\n                        <div></div>\n                        <div></div>\n                        <div></div>\n                      </div>`;\n    }\n\n    getFullName(prefix) {\n        const names = [\n            getFieldValue('first_name', prefix),\n            getFieldValue('last_name', prefix)\n        ].filter(Boolean);\n        if (names.length == 0) {\n            return null;\n        } else if (names.length == 1) {\n            return names[0];\n        }\n        return `${names[0]} ${names[1]}`\n    }\n}\n\nexport {BaseGateway};\nexport default BaseGateway;","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wcPPCP\"][\"cart\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wcPPCP\"][\"actions\"];","import {MiniCartGateway} from \"../classes\";\nimport cart from '@ppcp/cart';\nimport Actions from '@ppcp/actions';\n\nclass PaypalMinicart extends MiniCartGateway {\n\n}\n\nnew PaypalMinicart(cart, {id: 'ppcp', actions: new Actions(), context: 'cart'});"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","window","MiniCartGateway","_BaseGateway","_inherits","_super","cart","props","_this","_classCallCheck","retryCount","initialize","this","actions","addAction","onFragmentsChanged","bind","$","document","body","on","createButton","_get","_getPrototypeOf","needsShipping","getButtonContainer","setTimeout","el","querySelectorAll","concat","id","length","append","getElementById","response","processCartCheckout","data","createOrder","payment_method","then","orderId","isEmpty","BaseGateway","_ref","context","_ref$container","container","buttons","buttonActions","settings","getSetting","order_field_key","billing_token_key","loadPayPalScript","initializeEvents","getData","_this2","Promise","resolve","reject","loadPayPalSdk","getPayPalSDKArgs","paypal","catch","error","console","log","code","submitError","getErrorMessage","getPayPalQueryParams","_getSetting","_getSetting$clientId","clientId","environment","find","setData","defaultValue","arguments","undefined","setVariable","setOption","_this3","getSortedFunding","getFunding","forEach","source","button","Buttons","getButtonOptions","isEligible","NodeList","_step","_iterator","_createForOfIteratorHelper","s","n","done","node","render","err","e","f","$button","defaultHooks","_this4","keys","close","_this5","disable","_this6","enable","_this$settings","_this$settings2","_this$settings2$paypa","_this$settings3","_this$settings3$payla","_this$settings4","_this$settings4$credi","funding","paypal_sections","includes","getPage","push","FUNDING","PAYPAL","paylater_sections","isCheckoutFlow","PAYLATER","credit_card_sections","CARD","type","_this$settings5","_this$settings5$fundi","section","_this$settings6","_this$settings6$key","sortOrder","buttons_order","sort","b","indexOf","_this7","options","fundingSource","style","getButtonStyle","onInit","_len","args","Array","_key","apply","triggerHandler","onClick","onApprove","onCancel","orderID","onError","currentError","onDestroy","VENMO","onShippingChange","createBillingAgreement","getOption","_getPayPalQueryParams","vault","_this$settings7","_this$settings7$butto","_this$settings8","_this$settings8$butto","_this$settings9","_this$settings9$butto","_this$settings10","_this$settings10$butt","_style","paylater","_objectSpread","card","tagline","layout","_this$settings$button","color","label","_objectWithoutProperties","_excluded","height","parseInt","_this8","setFieldValue","billingToken","fetchBillingToken","handleBillingToken","message","order","res","handleOnApproveResponse","populateCheckoutFields","token","apiFetch","method","path","_token$payer_info","_token$payer_info2","_token$payer_info3","_token$payer_info4","payer_info","billing_address","populateBillingAddressFields","convertPayPalAddressToCart","first_name","isValid","last_name","email","phone","shipping_address","_token$shipping_addre","_token$shipping_addre2","address","populateNameFields","extractFullName","recipient_name","populateShippingAddressFields","isValidAddress","getCartFullAddress","isValidFieldValue","getFieldValue","create","_this9","extraData","url","getRestPath","_data$selected_shippi","shipping_method","extractShippingMethod","selected_shipping_option","getRestRoute","order_id","address_1","address_2","state","city","postcode","country","page","_getSetting2","is","name","prefix","isArray","_name","_slicedToArray","given_name","surname","_response$payer","_response$payer2","_response$payer3","_response$payer4","_response$payer4$phon","_response$payer4$phon2","_response$purchase_un","_response$purchase_un2","payer","email_address","phone_number","national_number","purchase_units","shipping","_response$purchase_un3","_response$purchase_un4","full_name","_this10","showProcessing","getCartCheckoutData","result","location","redirect","messages","fieldsToJson","_$","getProcessingSelector","block","getProcessingMessage","overlayCSS","background","opacity","_$2","unblock","names","filter","Boolean","_MiniCartGateway","PaypalMinicart","Actions"],"sourceRoot":""}